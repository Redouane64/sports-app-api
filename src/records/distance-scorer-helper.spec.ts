import { Point } from 'typeorm';
import scorer from './distance-scorer-helper';

describe('Distance Scorer', () => {
  beforeEach(async () => {});

  it('should be defined', () => {
    expect(scorer).toBeDefined();
  });

  it('should calculate distance', () => {
    const pathA: Array<Point['coordinates']> = [
      [16.379551495908203, 48.198982182328706, 200],
      [16.384911637370493, 48.199230620023144, 200],
      [16.387076992529956, 48.19910048614287, 200],
      [16.389792560886292, 48.19913597723385, 200],
      [16.390005546639998, 48.19807123380929, 200],
      [16.390236281206256, 48.19762166883052, 200],
      [16.39135445641253, 48.19764533024329, 200],
    ];

    const pathB: Array<Point['coordinates']> = [
      [16.379551493556733, 48.198934863093456, 200],
      [16.380350190132418, 48.198934863093456, 200],
      [16.381006896206088, 48.19910048850966, 200],
      [16.382018578534172, 48.199017675868504, 200],
      [16.382799526297248, 48.19917147066707, 200],
      [16.383615971685543, 48.19910048850966, 200],
      [16.384201682507552, 48.1991478099587, 200],
      [16.38501812789582, 48.19915964031446, 200],
      [16.38608305666301, 48.19908865814065, 200],
      [16.386810757987007, 48.19902950625385, 200],
      [16.387467464060705, 48.19902950625385, 200],
      [16.388496895202678, 48.19906499739406, 200],
      [16.389260094151865, 48.19908865814065, 200],
      [16.38981030734871, 48.19906499739406, 200],
      [16.390076539540217, 48.19850896670707, 200],
      [16.3900055442885, 48.19830784773839, 200],
      [16.390076539540217, 48.19800025249424, 200],
      [16.390360520545528, 48.197538856165295, 200],
      [16.391176965932488, 48.19760984048645, 200],
      [16.392153150636716, 48.19782279285931, 200],
      [16.392348387576504, 48.197645332610136, 200],
      [16.392348387576504, 48.19749153323005, 200],
      [16.392472629267274, 48.19724308710249, 200],
      [16.392508126892437, 48.19710111734557, 200],
    ];
    const distance = scorer(pathA, pathB);
    expect(distance).toBeTruthy();
  });
});
